<head>
    <script type="text/javascript" src="WEB-INF/scripts/apexcharts.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="WEB-INF/scripts/apexcharts.css">
</head>
<body style="background-color:#FAEBD7"></body>
<body>
    <div id="wrapper">
        <div id="chart-line2"></div>
        <div id="chart-line"></div>
    </div>
</body>

<script>
    var options = {
        series: [],
        chart: {
            id: 'chart2',
            type: 'line',
            height: 230,
            toolbar: {
                autoSelected: 'pan',
                show: false
            }
        },
        colors: ['#546E7A'],
        stroke: {
            width: 3
        },
        dataLabels: {
            enabled: false
        },
        fill: {
            opacity: 1,
        },
        markers: {
            size: 0
        },
        xaxis: {
            type: 'datetime'
        },
        noData: {
            text: 'Loading...'
        }
    };

    var chart = new ApexCharts(document.querySelector("#chart-line2"), options);
    chart.render();

    var optionsLine = {
        series: [],
        chart: {
            id: 'chart1',
            height: 130,
            type: 'area',
            brush: {
                target: 'chart2',
                enabled: true
            },
            selection: {
                enabled: true,
                xaxis: {
                    min: new Date('19 Jun 2017').getTime(),
                    max: new Date('14 Aug 2017').getTime()
                }
            },
        },
        colors: ['#008FFB'],
        fill: {
            type: 'gradient',
            gradient: {
                opacityFrom: 0.91,
                opacityTo: 0.1,
            }
        },
        xaxis: {
            type: 'datetime',
            tooltip: {
                enabled: false
            }
        },
        yaxis: {
            tickAmount: 2
        },
        noData: {
            text: 'Loading...'
        }
    };

    var chartLine = new ApexCharts(document.querySelector("#chart-line"), optionsLine);
    chartLine.render();

    var url = 'https://b0x9ee55r0.execute-api.us-west-2.amazonaws.com/Dev/market';

    $.getJSON(url, function(response) {
        chart.updateSeries([{
            name: 'Market',
            data: response
        }])
    });
</script>